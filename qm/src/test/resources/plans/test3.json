{
  head : {
    type : "APACHE_DRILL_LOGICAL",
    version : 1,
    generator : {
      type : "AUTO",
      info : "sof-dsk"
    }
  },
  storage : { },
  query : [ {
    op : "scan",
    @id : 1,
    memo : "deu_sof-dsk,2013-08-15,2013-08-15,visit.*",
    storageengine : "hbase",
    selection : [
    {
        projections : [ {
          ref : "uid",
          expr : "uid"
          }, {
           ref : "value",
          expr : "value"
        } ],
        rowkey : {
          end : "20130102visit.\\xFF",
          start : "20130102visit.\\xC5\\xA1\\x08\\xED\\x87\\xA8E"
        },
        table : "sof-dsk_deu"
    },
    {
       projections : [ {
       ref : "uid",
       expr : "uid"
       }, {
       ref : "value",
       expr : "value"
       } ],
       rowkey : {
       end :  "20130101visit",
       start : "20130101visit"
       },
       table : "sof-dsk_deu"
  },
     {
       projections : [
       {
        ref : "uid",
        expr : "uid"
       }, {
        ref : "value",
        expr : "value"
       } ],
       rowkey : {
       end : "20130103visit",
       start : "20130103visit.\\xC5\\xA1\\x08\\xED\\x87\\xA8E"
       },
       table : "sof-dsk_deu"
     },
     {
     projections : [
     {
       ref : "uid",
       expr : "uid"
     }, {
     ref : "value",
     expr : "value"
     } ],
     rowkey : {
        end : "20130103visit.\\xC5\\xA1\\x08\\xED\\x87\\xA8E",
        start : "20130103visit.\\xC5\\xA1\\x08\\xED\\x87\\xA8F"
     },
     table : "sof-dsk_deu"
     },
     {
       projections : [
       {
       ref : "uid",
       expr : "uid"
       }, {
       ref : "value",
       expr : "value"
       }
       ],
       rowkey : {
        end : "20130104visit",
        start : "20130104visit.\\xC5\\xA1\\x08\\xED\\x87\\xA8E"
       },
       table : "sof-dsk_deu"
     }
     ],
    ref : "event"
  }, {
    op : "collapsingaggregate",
    @id : 2,
    input : 1,
    within : null,
    target : null,
    carryovers : null,
    aggregations : [ {
      ref : "count",
      expr : "count(uid) "
    }, {
      ref : "user_num",
      expr : "count_distinct(uid) "
    }, {
      ref : "sum",
      expr : "sum(value) "
    } ]
  }, {
    op : "project",
    @id : 3,
    input : 2,
    projections : [ {
      ref : "query_id",
      expr : "'COMMON,sof-dsk,2013-08-15,2013-08-15,visit.*,TOTAL_USER,VF-ALL-0-0,PERIOD'"
    }, {
      ref : "count",
      expr : "count"
    }, {
      ref : "user_num",
      expr : "user_num"
    }, {
      ref : "sum",
      expr : "sum"
    } ]
  }, {
    op : "store",
    @id : 4,
    input : 3,
    target : null,
    partition : null,
    storageEngine : "DEFAULT-STORE"
  } ]
}
